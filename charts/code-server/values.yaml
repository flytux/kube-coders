#nameOverride: "f079498e-c932-41bd-87e2-41717e5c8fb7"
# a80214d6-5deb-4b5e-9ddb-0cdcbaee91ec

fullnameOverride: "code-a80214d6-5deb-4b5e-9ddb-0cdcbaee91ec"
image:
  repository: docker.local/code-server
  tag: 'jdk21'
  pullPolicy: Always

podSecurityContext: 
  fsGroup: 1000

extraArgs: 
  - --auth
  - none

volumePermissions:
  enabled: true
  securityContext:
    runAsUser: 0

securityContext:
  enabled: true
  fsGroup: 1000
  runAsUser: 1000

persistence:
  enabled: true
  storageClass: "nfs-csi"
  accessMode: ReadWriteOnce
  size: 10Gi
  
extraInitContainers: |
# - name: customization
#   image: {{ .Values.image.repository }}:{{ .Values.image.tag }}
#   imagePullPolicy: IfNotPresent
#   env:
#     - name: SERVICE_URL
#       value: https://open-vsx.org/vscode/gallery
#     - name: ITEM_URL
#       value: https://open-vsx.org/vscode/item
#   command:
#     - sh
#     - -c
#     - |
#       code-server --install-extension ms-python.python
#       code-server --install-extension golang.Go
#   volumeMounts:
#     - name: data
#       mountPath: /home/coder
